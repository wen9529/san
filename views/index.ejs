<!-- views/index.ejs -->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'sha256-<%= hashes.socket %>' 'sha256-<%= hashes.card %>'; style-src 'self' 'unsafe-inline'; img-src 'self' data:">
    <title>é”„å¤§åœ° Online</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <header class="game-header">
        <h1>ğŸƒ é”„å¤§åœ°</h1>
        <div id="connection-status" class="connected">ğŸŸ¢ å·²è¿æ¥</div>
    </header>

    <main class="game-board">
        <% cards.forEach(card => { %>
            <div class="game-card" 
                 data-suit="<%= card.suit %>"
                 data-rank="<%= card.rank %>"
                 data-image="<%= card.image %>">
                <img src="<%= card.image %>" 
                     alt="<%= card.toString() %>"
                     onerror="this.src='/images/back.png'">
                <div class="card-label"><%= card.toString() %></div>
            </div>
        <% }); %>
    </main>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/socket_handler.js" integrity="sha256-<%= hashes.socket %>"></script>
    <script src="/js/card_renderer.js" integrity="sha256-<%= hashes.card %>"></script>
</body>
</html>
